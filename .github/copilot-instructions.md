# プロジェクト概要

YouTube チャンネルの歌枠の曲をプレイリスト化する非公式ファンサイトプロジェクトで、３つのサブプロジェクトから構成されます

- データ収集プロジェクト
  - YouTube チャンネルの情報を取得して動画の情報やサムネイル情報などを収集してデータベースを構築する
- Web アプリケーション
  - データ収集プロジェクトで構築されたデータベースから情報を取得し、ユーザーに視覚的に表示するダッシュボードを提供する
- Google Apps Script コード
  - Google スプレッドシート上のデータを編集するための管理用スクリプト

# データ収集プロジェクト

チャンネル名は `@Suu_Usuwa`

- API を使ってチャンネル情報を取得
- 以下の情報を収集する
  - 動画のタイトル
  - 動画のサムネイル
  - 動画のタグ
  - 動画の URL

YouTube API にアクセスするための API キーは環境変数 `YT_API_KEY` から取得する

## データベース

収集したデータは Google スプレッドシートに保存する
Web アプリケーションは公開リンクから CSV としてダウンロードして利用する
管理画面など Web から編集するために Google Apps Script で管理用スクリプトを実装する

## データ収集の定期実行

データ収集は以下の２種類を定期的に実行して、新着動画の追加や再生数、高評価数を更新する

- 新着動画の収集（１時間ごとに実行）
  - 最新 50 件の動画を取得して、データベースに未登録の動画があれば追加する
- 全動画の収集（６時間ごとに実行）
  - 過去も含めてすべての動画の情報を更新する
  - ※ 実行頻度はチャンネルに登録されている動画数によって調整する

実行は GitHubAtions で行い `YT_API_KEY` はシークレットから取得する

# Web アプリケーション

GitHub Pages でホスティングされるアプリケーション
小規模のアプリで軽量に動作させたいため Vite + React + Tailwind CSS で構築する

# ガイドライン

- `.env` には機密情報が含まれているためコンテキストに追加したり読み取ったりしないこと
- 実装サマリやレポートドキュメントは不要

# ディレクトリ構成

- .github : ワークフローやカスタムインストラクション
- collector : データ収集プロジェクト（TypeScript）
- gas : Google Apps Script コード
- Web アプリケーションはルート直下に作成

# ツール

- Node.js v20+
- pnpm
